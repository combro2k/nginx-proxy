Index: CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>cmake_minimum_required (VERSION 2.8.10)\n\nproject (BoringSSL)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n  set(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -Wall -Werror -ggdb -fvisibility=hidden\")\n  set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wall -Werror -ggdb -std=c++0x -fvisibility=hidden\")\nelseif(MSVC)\n  # Disable warnings for implicit integer narrowing.\n  set(CMAKE_C_FLAGS \"/wd4267\")\n  set(CMAKE_CXX_FLAGS \"/wd4267\")\n  add_definitions(-D_HAS_EXCEPTIONS=0)\nendif()\n\nif((CMAKE_COMPILER_IS_GNUCXX AND CMAKE_C_COMPILER_VERSION VERSION_GREATER \"4.5.99\") OR\n   CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n  set(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -Wshadow\")\n  set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wshadow\")\nendif()\n\nadd_definitions(-DBORINGSSL_IMPLEMENTATION)\n\nif (BUILD_SHARED_LIBS)\n  add_definitions(-DBORINGSSL_SHARED_LIBRARY)\n  # Enable position-independent code globally. This is needed because\n  # some library targets are OBJECT libraries.\n  set(CMAKE_POSITION_INDEPENDENT_CODE TRUE)\nendif()\n\nif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"x86_64\")\n  set(ARCH \"x86_64\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"amd64\")\n  set(ARCH \"x86_64\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"AMD64\")\n  # cmake reports AMD64 on Windows, but we might be building for 32-bit.\n  if (CMAKE_CL_64)\n    set(ARCH \"x86_64\")\n  else()\n    set(ARCH \"x86\")\n  endif()\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"x86\")\n  set(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"i386\")\n  set(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"i686\")\n  set(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"arm\")\n  set(ARCH \"arm\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"aarch64\")\n  set(ARCH \"aarch64\")\nelse()\n  message(FATAL_ERROR \"Unknown processor:\" ${CMAKE_SYSTEM_PROCESSOR})\nendif()\n\nif (${ARCH} STREQUAL \"x86\" AND APPLE)\n  # With CMake 2.8.x, ${CMAKE_SYSTEM_PROCESSOR} evalutes to i386 on OS X,\n  # but clang defaults to 64-bit builds on OS X unless otherwise told.\n  # Set ARCH to x86_64 so clang and CMake agree. This is fixed in CMake 3.\n  set(ARCH \"x86_64\")\nendif()\n\nadd_subdirectory(crypto)\nadd_subdirectory(ssl)\nadd_subdirectory(ssl/test)\nadd_subdirectory(tool)\n
===================================================================
--- CMakeLists.txt	(revision 4a0f0c4910e20705282166da10943d6eed5a0d66)
+++ CMakeLists.txt	(revision )
@@ -3,8 +3,8 @@
 project (BoringSSL)
 
 if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
-  set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Werror -ggdb -fvisibility=hidden")
-  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror -ggdb -std=c++0x -fvisibility=hidden")
+  set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -O2 -fpic -std=c89 -fvisibility=hidden")
+  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -O2 -std=c++0x -fvisibility=hidden")
 elseif(MSVC)
   # Disable warnings for implicit integer narrowing.
   set(CMAKE_C_FLAGS "/wd4267")
@@ -61,5 +61,4 @@
 
 add_subdirectory(crypto)
 add_subdirectory(ssl)
-add_subdirectory(ssl/test)
-add_subdirectory(tool)
+
