Index: CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>cmake_minimum_required (VERSION 2.8.10)\n\nproject (BoringSSL)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\tset(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -Wall -Werror -ggdb\")\n\tset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wall -Werror -ggdb -std=c++0x\")\nelseif(MSVC)\n\t# Disable warnings for implicit integer narrowing.\n\tset(CMAKE_C_FLAGS \"/wd4267\")\n\tset(CMAKE_CXX_FLAGS \"/wd4267\")\nendif()\n\nif((CMAKE_COMPILER_IS_GNUCXX AND CMAKE_C_COMPILER_VERSION VERSION_GREATER \"4.5.99\") OR\n   CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\tset(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -Wshadow\")\n\tset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wshadow\")\nendif()\n\nadd_definitions(-DBORINGSSL_IMPLEMENTATION)\n\nif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"x86_64\")\n\tset(ARCH \"x86_64\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"amd64\")\n\tset(ARCH \"x86_64\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"AMD64\")\n\t# cmake reports AMD64 on Windows, but we might be building for 32-bit.\n\tif (CMAKE_CL_64)\n\t\tset(ARCH \"x86_64\")\n\telse()\n\t\tset(ARCH \"x86\")\n\tendif()\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"x86\")\n\tset(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"i386\")\n\tset(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"i686\")\n\tset(ARCH \"x86\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"arm\")\n\tset(ARCH \"arm\")\nelseif (${CMAKE_SYSTEM_PROCESSOR} STREQUAL \"aarch64\")\n\tset(ARCH \"aarch64\")\nelse()\n\tmessage(FATAL_ERROR \"Unknown processor:\" ${CMAKE_SYSTEM_PROCESSOR})\nendif()\n\nif (${ARCH} STREQUAL \"x86\" AND APPLE)\n\t# With CMake 2.8.x, ${CMAKE_SYSTEM_PROCESSOR} evalutes to i386 on OS X,\n\t# but clang defaults to 64-bit builds on OS X unless otherwise told.\n\t# Set ARCH to x86_64 so clang and CMake agree. This is fixed in CMake 3.\n\tset(ARCH \"x86_64\")\nendif()\n\nadd_subdirectory(crypto)\nadd_subdirectory(ssl)\nadd_subdirectory(ssl/test)\nadd_subdirectory(tool)\n
===================================================================
--- CMakeLists.txt	(revision 2fe7f2d0d9a6fcc75b4e594eeec306cc55acd594)
+++ CMakeLists.txt	(revision )
@@ -3,8 +3,8 @@
 project (BoringSSL)
 
 if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
-	set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Werror -ggdb")
-	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror -ggdb -std=c++0x")
+	set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -O2 -fpic -std=c89")
+	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -O2 -std=c++0x")
 elseif(MSVC)
 	# Disable warnings for implicit integer narrowing.
 	set(CMAKE_C_FLAGS "/wd4267")
@@ -53,5 +53,3 @@
 
 add_subdirectory(crypto)
 add_subdirectory(ssl)
-add_subdirectory(ssl/test)
-add_subdirectory(tool)
